{"ast":null,"code":"var _jsxFileName = \"/home/error404_sp/Desktop/rent it/src/MultiStepForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { useForm, useStep } from \"react-hooks-helper\";\nimport { Names } from \"./stepForm/Names\";\nimport { Address } from \"./stepForm/Address\";\nimport { Property } from \"./stepForm/Property\";\nimport { PropertyDescription } from \"./stepForm/PropertyDescription\";\nimport { Contact } from \"./stepForm/Contact\";\nimport { Review } from \"./stepForm/Review\";\nimport { Submit } from \"./stepForm/Submit\";\nimport { Upload } from \"./stepForm/Upload\";\nimport { db, storage } from \"./firebase\";\nimport { Redirect } from \"react-router\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst defaultData = {\n  firstName: \"\",\n  lastName: \"\",\n  address: \"\",\n  city: \"\",\n  state: \"\",\n  zip: \"\",\n  title: \"\",\n  property: \"\",\n  description: \"\",\n  pricing: \"\",\n  phone: \"\",\n  email: \"\"\n};\nconst steps = [{\n  id: \"names\"\n}, {\n  id: \"address\"\n}, {\n  id: \"property\"\n}, {\n  id: \"description\"\n}, {\n  id: \"contact\"\n}, {\n  id: \"upload\"\n}, {\n  id: \"review\"\n}, {\n  id: \"submit\"\n}];\nexport const MultiStepForm = () => {\n  _s();\n\n  const [formData, setForm] = useForm(defaultData);\n  const [images, setImages] = useState([]);\n  const {\n    step,\n    navigation\n  } = useStep({\n    steps,\n    initialStep: 0\n  });\n  const props = {\n    formData,\n    setForm,\n    navigation\n  };\n\n  const doSubmit = () => {\n    console.log(\"submitted\", formData, images);\n    const {\n      firstName,\n      lastName,\n      address,\n      city,\n      state,\n      zip,\n      title,\n      property,\n      description,\n      pricing,\n      phone,\n      email\n    } = formData;\n    db.collection(\"listings\").add({\n      firstName,\n      lastName,\n      address,\n      city,\n      state,\n      zip,\n      title,\n      property,\n      description,\n      pricing,\n      phone,\n      email,\n      status: \"processing\"\n    }).then(docRef => {\n      const listingID = docRef.id;\n      const listingRef = storage.ref().child(\"listings\").child(listingID);\n      Array.from(images).map((file, idx) => listingRef.child(file.name).put(file).then(_snapshot => {\n        console.log(\"Uploaded a blob or file!\");\n\n        if (idx === 0) {\n          _snapshot.ref.getDownloadURL().then(downloadURL => {\n            console.log(\"File available at\", downloadURL);\n            db.collection(\"listings\").doc(listingID).update({\n              thumbnailURL: downloadURL\n            });\n          });\n        }\n      }));\n    }).catch(error => {\n      console.error(\"Error adding document: \", error);\n    });\n  };\n\n  switch (step.id) {\n    case \"names\":\n      return /*#__PURE__*/_jsxDEV(Names, { ...props\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 14\n      }, this);\n\n    case \"address\":\n      return /*#__PURE__*/_jsxDEV(Address, { ...props\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 14\n      }, this);\n\n    case \"property\":\n      return /*#__PURE__*/_jsxDEV(Property, { ...props\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 14\n      }, this);\n\n    case \"description\":\n      return /*#__PURE__*/_jsxDEV(PropertyDescription, { ...props\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 14\n      }, this);\n\n    case \"contact\":\n      return /*#__PURE__*/_jsxDEV(Contact, { ...props\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 14\n      }, this);\n\n    case \"upload\":\n      return /*#__PURE__*/_jsxDEV(Upload, { ...props,\n        handleImages: setImages,\n        images: images\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 14\n      }, this);\n\n    case \"review\":\n      return /*#__PURE__*/_jsxDEV(Review, { ...props,\n        handleSubmit: doSubmit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 14\n      }, this);\n\n    case \"submit\":\n      return /*#__PURE__*/_jsxDEV(Submit, { ...props\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 14\n      }, this);\n\n    default:\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 14\n      }, this);\n  }\n};\n\n_s(MultiStepForm, \"+H3tLwBXktXJbXBmzfWPM0fNnpM=\", false, function () {\n  return [useForm, useStep];\n});\n\n_c = MultiStepForm;\nexport default MultiStepForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"MultiStepForm\");","map":{"version":3,"sources":["/home/error404_sp/Desktop/rent it/src/MultiStepForm.js"],"names":["React","useState","useForm","useStep","Names","Address","Property","PropertyDescription","Contact","Review","Submit","Upload","db","storage","Redirect","defaultData","firstName","lastName","address","city","state","zip","title","property","description","pricing","phone","email","steps","id","MultiStepForm","formData","setForm","images","setImages","step","navigation","initialStep","props","doSubmit","console","log","collection","add","status","then","docRef","listingID","listingRef","ref","child","Array","from","map","file","idx","name","put","_snapshot","getDownloadURL","downloadURL","doc","update","thumbnailURL","catch","error"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { useForm, useStep } from \"react-hooks-helper\";\nimport { Names } from \"./stepForm/Names\";\nimport { Address } from \"./stepForm/Address\";\nimport { Property } from \"./stepForm/Property\";\nimport { PropertyDescription } from \"./stepForm/PropertyDescription\";\nimport { Contact } from \"./stepForm/Contact\";\nimport { Review } from \"./stepForm/Review\";\nimport { Submit } from \"./stepForm/Submit\";\nimport { Upload } from \"./stepForm/Upload\";\nimport { db, storage } from \"./firebase\";\nimport { Redirect } from \"react-router\";\n\nconst defaultData = {\n  firstName: \"\",\n  lastName: \"\",\n  address: \"\",\n  city: \"\",\n  state: \"\",\n  zip: \"\",\n  title: \"\",\n  property: \"\",\n  description: \"\",\n  pricing: \"\",\n  phone: \"\",\n  email: \"\",\n};\n\nconst steps = [\n  { id: \"names\" },\n  { id: \"address\" },\n  { id: \"property\" },\n  { id: \"description\" },\n  { id: \"contact\" },\n  { id: \"upload\" },\n  { id: \"review\" },\n  { id: \"submit\" },\n];\n\nexport const MultiStepForm = () => {\n  const [formData, setForm] = useForm(defaultData);\n  const [images, setImages] = useState([]);\n  const { step, navigation } = useStep({\n    steps,\n    initialStep: 0,\n  });\n\n  const props = { formData, setForm, navigation };\n\n  const doSubmit = () => {\n    console.log(\"submitted\", formData, images);\n    const {\n      firstName,\n      lastName,\n      address,\n      city,\n      state,\n      zip,\n      title,\n      property,\n      description,\n      pricing,\n      phone,\n      email,\n    } = formData;\n\n    db.collection(\"listings\")\n      .add({\n        firstName,\n        lastName,\n        address,\n        city,\n        state,\n        zip,\n        title,\n        property,\n        description,\n        pricing,\n        phone,\n        email,\n        status: \"processing\",\n      })\n      .then((docRef) => {\n        const listingID = docRef.id;\n        const listingRef = storage.ref().child(\"listings\").child(listingID);\n        Array.from(images).map((file, idx) =>\n          listingRef\n            .child(file.name)\n            .put(file)\n            .then((_snapshot) => {\n              console.log(\"Uploaded a blob or file!\");\n              if (idx === 0) {\n                _snapshot.ref.getDownloadURL().then((downloadURL) => {\n                  console.log(\"File available at\", downloadURL);\n                  db.collection(\"listings\").doc(listingID).update({\n                    thumbnailURL: downloadURL,\n                  });\n                });\n              }\n            })\n        );\n      })\n      .catch((error) => {\n        console.error(\"Error adding document: \", error);\n      });\n  };\n\n  switch (step.id) {\n    case \"names\":\n      return <Names {...props} />;\n    case \"address\":\n      return <Address {...props} />;\n    case \"property\":\n      return <Property {...props} />;\n    case \"description\":\n      return <PropertyDescription {...props} />;\n    case \"contact\":\n      return <Contact {...props} />;\n    case \"upload\":\n      return <Upload {...props} handleImages={setImages} images={images} />;\n    case \"review\":\n      return <Review {...props} handleSubmit={doSubmit} />;\n    case \"submit\":\n      return <Submit {...props} />;\n    default:\n      return <Redirect to=\"/\" />;\n  }\n};\nexport default MultiStepForm;\n"]},"metadata":{},"sourceType":"module"}